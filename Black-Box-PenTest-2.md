# Black Box Pen Test 2 - RCM 8/25/2021
# INE 
# Scenario

You have been engaged in a Black-box Penetration Test (172.16.64.0/24 range). Your goal is to read the flag file on each machine. On some of them, you will be required to exploit a remote code execution vulnerability in order to read the flag.

# Goals 
- Discover all the machines on the network
- Read all flag files (One per machine, stored on the filesystem or within a database)
- Obtain a reverse shell at least on 172.16.64.92

# What You Will Learn 
- Taking advantage of DNS and virtual hosts
- Bypassing client-side access controls
- Abusing unrestricted file upload to achieve remote code execution

# Recommended tools
- Dirb
- Metasploit framework (recommended version 5)
- Nmap
- Sqlmap
- BurpSuite
- Text editor
---

# Procedures

1. Perform nmap discovery scan to identify alive hosts on the network. 

`nmap -sn 172.16.64.0/24`

Results:

```
Nmap scan report for 172.16.64.10
Host is up (0.000035s latency).
Nmap scan report for 172.16.64.81
Host is up (0.083s latency).
Nmap scan report for 172.16.64.91
Host is up (0.083s latency).
Nmap scan report for 172.16.64.92
Host is up (0.079s latency).
Nmap scan report for 172.16.64.166
Host is up (0.084s latency).
Nmap done: 256 IP addresses (5 hosts up) scanned in 3.45 seconds
```                                                                     


2. Perform nmap service version scan, and OS detection scan.

`sudo nmap -sS -sV -v 172.16.64.10,81,91,92,166`

Results: 

![nmap_scan](https://user-images.githubusercontent.com/76081641/130802443-dfd64423-5305-4b88-a9ac-322cb9df43b6.png)


-  Target Machine `172.16.64.10` Exploitation Steps.

![nmap_scan_forthisone](https://user-images.githubusercontent.com/76081641/130801312-65e2af1f-b0f7-4a86-ba9b-c7a575763804.png)

![website](https://user-images.githubusercontent.com/76081641/130801083-ae813247-82be-4704-b8a1-722793539e75.png)

- Target machine (DNS and virtual hosts) `172.16.64.92`

![image](https://user-images.githubusercontent.com/76081641/130801964-5a56d895-0dbb-43ab-9677-4fd4251e2be6.png)

- Log in as admin:admin 

- Connect to 172.16.64.92 (DNS Server)

![image](https://user-images.githubusercontent.com/76081641/130804692-7b81d54c-6294-4d94-9b7d-8e89bbcd07a4.png)

- Open port 80 on `172.16.64.92:80`

![image](https://user-images.githubusercontent.com/76081641/130805603-f79bb5a5-06cc-4574-8318-f02e83ab7645.png)

- Dirb enumeration of the testing site.
